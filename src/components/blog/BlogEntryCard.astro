---

// test image only for dev
import { Image } from 'astro:assets';

interface Props {
  title: string;
  description: string;
  image?: ImageMetadata;
}

const { title, description, image } = Astro.props;

const normalizeLinks = (dirtyTitle: string) => {
  return dirtyTitle
      .toLowerCase()
      .replace(/á/g, 'a')
      .replace(/ś/g, 's')
      .replace(/é/g, 'e')
      .replace(/ŕ/g, 'r')
      .replace(/ý/g, 'y')
      .replace(/ú/g, 'u')
      .replace(/í/g, 'i')
      .replace(/ó/g, 'o')
      .replace(/ṕ/g, 'p')
      .replace(/ĺ/g, 'l')
      .replace(/ḱ/g, 'k')
      .replace(/j́/g, 'j')
      .replace(/ǵ/g, 'g')
      .replace(/ź/g, 'z')
      .replace(/ć/g, 'c')
      .replace(/ń/g, 'n')
      .replace(/ḿ/g, 'm')
      .replace(/ñ/g, 'n')
      .replace(/ /g, '-')
      .replace(/:/g, '');
}

---

<div class="card-body-size" data-aos="fade-up">
  <a class="card minimal-shadow pointer" href={ '/blog/' + normalizeLinks(title) }>
    <Image src={ image } class="card-img-top w-100 h-100" alt={ 'Imagen alusion de: ' + title } />
    <div class="card-body-pf card-body pt-4">
      <h2 class="m-0 mb-1">{ title }</h2>
      <p class="card-text">{ description }</p>
    </div>
  </a>
</div>

<style>
  h2 {
    font-size: 1.2rem;
    font-weight: 800 !important;
  }

  .card-body-size {
    width: 100%;
  }

  .card-body h2 {
    font-size: 1.4rem;
    font-weight: 600;
  }

  .minimal-shadow {
    box-shadow: 0px 7px 11px -5px #7e7e7e21;
    transition-property: box-shadow;
    transition-duration: 0.3s;
  }

  .minimal-shadow:hover {
    box-shadow: 0px 7px 10px -6px rgba(0, 0, 0, 0.219);
  }
</style>